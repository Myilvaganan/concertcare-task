(this["webpackJsonpconcetcare-task"]=this["webpackJsonpconcetcare-task"]||[]).push([[0],{144:function(e,t,c){},148:function(e,t,c){"use strict";c.r(t);var s=c(0),a=c.n(s),n=c(23),r=c.n(n),o=c(20),i=c(31),l=c(62),u=c(63),d=c(76),j=c(12),b="GET_POSTS",p="GET_USERS",h="GET_TODOS",x="GET_USER_BY_ID",O="GET_POST_BY_USER",m="SHOW_ERROR",f="CREATE_POST",g={posts:[],post:[],post_loading:!0},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,c=t.type,s=t.payload;switch(c){case b:return Object(j.a)(Object(j.a)({},e),{},{posts:s,post_loading:!1});case O:return Object(j.a)(Object(j.a)({},e),{},{post:s,post_loading:!1});case f:return Object(j.a)(Object(j.a)({},e),{},{posts:[s].concat(Object(d.a)(e.posts)),loading:!1});case m:return Object(j.a)(Object(j.a)({},e),{},{error:s,post_loading:!1});default:return e}},v={users:[],user:[],todos:[],user_loading:!0,todos_loading:!0},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,c=t.type,s=t.payload;switch(c){case p:return Object(j.a)(Object(j.a)({},e),{},{users:s,user_loading:!1});case x:return Object(j.a)(Object(j.a)({},e),{},{user:s,user_loading:!1});case h:return Object(j.a)(Object(j.a)({},e),{},{todos:s,todos_loading:!1});case m:return Object(j.a)(Object(j.a)({},e),{},{error:s,user_loading:!1});default:return e}},k=Object(i.combineReducers)({postReducer:y,userReducer:N}),T=[u.a],_=Object(i.createStore)(k,{},Object(l.composeWithDevTools)(i.applyMiddleware.apply(void 0,T))),w=c(64),B=c(65),C=c(77),P=c(74),R=c(15),S=c(11),E=c(18),U=c.n(E),G=c(28),D=c(29),I=c.n(D),F="d9c46955fe2d7767c2f8321643e852c4c66bebd5cfe637d7960d3f095bc4c4e4",A=function(e){return function(){var t=Object(G.a)(U.a.mark((function t(c){var s;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.a.get("https://gorest.co.in//public/v1/posts?page=".concat(e,"?access-token=")+F);case 3:s=t.sent,c({type:b,payload:s.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),c({type:m,payload:t.t0.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},L=function(e){return function(){var t=Object(G.a)(U.a.mark((function t(c){var s;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.a.get("https://gorest.co.in/public/v1/users/".concat(e,"?access-token=")+F);case 3:s=t.sent,c({type:x,payload:s.data.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),c({type:m,payload:t.t0.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},z=function(e){return function(){var t=Object(G.a)(U.a.mark((function t(c){var s;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.a.get("https://gorest.co.in/public/v1/users/".concat(e,"/todos?access-token=")+F);case 3:s=t.sent,c({type:h,payload:s.data.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),c({type:m,payload:t.t0.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},H=c(168),J=c(169),M=c(73),W=c(172),Y=c(166),q=c(170),K=c(2),Q=Object(Y.a)((function(e){return{root:{"& > *":{marginTop:e.spacing(5)}}}}));var V=Object(o.b)((function(e){return{posts:e.postReducer.posts,users:e.userReducer}}),{getPosts:A,getUserByID:L})((function(e){var t=e.posts.meta,c=e.getPosts,s=Q(),a=t?t.pagination.pages:20;return Object(K.jsx)("div",{className:s.root,children:Object(K.jsx)(q.a,{count:a,defaultPage:1,boundaryCount:2,color:"secondary",size:"large",showFirstButton:!0,showLastButton:!0,onChange:function(e){return function(e){c(e.target.textContent?e.target.textContent:1)}(e)}})})})),X=c(70),Z=function(){return Object(K.jsx)("div",{className:"loader",children:Object(K.jsx)(X.SemipolarLoading,{size:"large"})})},$=Object(o.b)((function(e){return{posts:e.postReducer,users:e.userReducer}}),{getPosts:A,getUsers:function(){return function(){var e=Object(G.a)(U.a.mark((function e(t){var c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get("https://gorest.co.in/public/v1/users?access-token="+F);case 3:c=e.sent,t({type:p,payload:c.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:m,payload:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},getUserByID:L})((function(e){var t=e.getPosts,c=e.getUsers,a=e.getUserByID,n=e.posts,r=n.posts,o=n.post_loading,i=e.users,l=i.user,u=i.user_loading,d=Object(s.useCallback)((function(e){a(e)}),[a]);return Object(s.useEffect)((function(){t(1),c()}),[t,c]),Object(K.jsx)(H.a,{className:"my-5",children:o&&u?Object(K.jsx)(Z,{}):Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(J.a,{children:Object(K.jsx)(M.a,{md:12,className:"mb-5 d-flex justify-content-end",children:Object(K.jsx)(V,{getPosts:t})})}),Object(K.jsx)(J.a,{children:r.data?r.data.map((function(e,t){return Object(K.jsx)(M.a,{md:4,className:"my-2 d-flex align-items-stretch justify-content-center",children:Object(K.jsxs)(W.a,{className:"card",children:[Object(K.jsx)("span",{className:"mark",children:t+1}),Object(K.jsxs)(W.a.Body,{className:"d-flex flex-column justify-content-center align-items-center  text-center",children:[Object(K.jsxs)(W.a.Title,{className:"author-name",children:[" ",Object(K.jsx)(R.b,{to:"/user/".concat(e.user_id),children:l.id===e.user_id?"Author: ".concat(l.name):null})]}),Object(K.jsx)(W.a.Title,{children:e.title}),Object(K.jsx)(W.a.Text,{children:e.body}),Object(K.jsx)(W.a.Subtitle,{className:"mb-2 text-muted subtitle"}),Object(K.jsx)("button",{id:"show-author-btn",onClick:function(t){return d(e.user_id)},children:Object(K.jsx)(R.b,{to:"/user/".concat(e.user_id),children:l.id===e.user_id?l.name:"Show Author"})})]})]})},e.id)})):Object(K.jsx)(M.a,{className:"my-4 d-flex align-items-stretch justify-content-center",children:Object(K.jsx)(Z,{})})}),Object(K.jsx)(M.a,{md:12,className:"mb-5 d-flex justify-content-end",children:Object(K.jsx)(V,{})})]})})})),ee=c(173),te=Object(o.b)((function(e){return{posts:e.postReducer,users:e.userReducer}}),{getPostByUser:function(e){return function(){var t=Object(G.a)(U.a.mark((function t(c){var s;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.a.get("https://gorest.co.in/public/v1/users/".concat(e,"/posts?access-token=")+F);case 3:s=t.sent,c({type:O,payload:s.data.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),c({type:m,payload:t.t0.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getUserByID:L,getTodos:z})((function(e){var t=e.match,c=e.getUserByID,a=e.getPostByUser,n=e.getTodos,r=e.posts,o=r.post,i=r.post_loading,l=e.users,u=l.user,d=l.user_loading,j=t.params.id;return Object(s.useEffect)((function(){c(j),a(j)}),[c,a,j]),Object(K.jsx)(H.a,{className:"my-5",children:i&&d?Object(K.jsx)(Z,{}):Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(J.a,{children:Object(K.jsxs)(M.a,{className:"d-flex justify-content-between ",children:[Object(K.jsx)(ee.a,{id:"back-btn",className:"mb-4",children:Object(K.jsx)(R.b,{to:"/concertcare-task",children:"\u2190 Go To Home"})}),Object(K.jsx)(ee.a,{id:"back-btn",className:"mb-4 create",children:Object(K.jsx)(R.b,{to:"/user/".concat(j,"/create"),children:"Create New Post"})})]})}),Object(K.jsx)(J.a,{children:Object(K.jsx)(M.a,{children:Object(K.jsxs)(W.a,{className:"card",children:[Object(K.jsxs)(W.a.Body,{className:"d-flex flex-column justify-content-center align-items-center  text-center",children:[Object(K.jsx)(W.a.Title,{className:"name-style userName",children:u.name}),Object(K.jsx)(W.a.Text,{className:"text-style email",children:u.email}),Object(K.jsx)(W.a.Text,{className:"text-style gender",children:u.gender}),Object(K.jsx)(W.a.Text,{className:"text-style my-3",children:Object(K.jsx)("span",{className:"status",children:u.status})})]}),Object(K.jsx)(ee.a,{id:"back-btn",className:"mb-4 todo-btn",onClick:function(e){return n(u.id)},children:Object(K.jsxs)(R.b,{to:"/user/".concat(u.id,"/todos"),children:[u.name,"'s Todos \u2192"]})})]})})}),Object(K.jsx)(J.a,{children:o.length?o.map((function(e){return Object(K.jsx)(M.a,{md:6,className:"my-4 d-flex align-items-stretch justify-content-center",children:Object(K.jsx)(W.a,{className:"card",children:Object(K.jsxs)(W.a.Body,{className:"d-flex flex-column justify-content-center align-items-center  text-center",children:[Object(K.jsx)(W.a.Title,{children:e.title}),Object(K.jsx)(W.a.Text,{children:e.body})]})})},e.id)})):Object(K.jsx)(M.a,{className:"my-4 d-flex align-items-stretch justify-content-center",children:Object(K.jsx)("h4",{children:"Oops! No Posts for this user"})})})]})})})),ce=(c(144),c(145),function(){return Object(K.jsxs)("nav",{className:"nav-bar",children:[Object(K.jsx)("h3",{children:Object(K.jsx)(R.b,{to:"/concertcare-task",children:"ConcertCare Task"})}),Object(K.jsxs)("div",{className:"nav-bar-link",children:[Object(K.jsx)("a",{href:"https://github.com/Myilvaganan/concertcare-task",rel:"noreferrer",target:"_blank",children:"Github"}),Object(K.jsx)("a",{href:"https://myilvaganan.github.io/concertcare-task/",rel:"noreferrer",target:"_blank",children:"Deploy"}),Object(K.jsx)("a",{href:"https://myilvaganan.github.io/myilportfolio/",rel:"noreferrer",target:"_blank",children:"Portfolio"})]})]})}),se=Object(o.b)((function(e){return{todos:e.userReducer}}),{getTodos:z})((function(e){var t=e.match,c=e.todos,a=c.todos,n=c.todo_loading,r=e.getTodos,o=t.params.id;return Object(s.useEffect)((function(){r(o)}),[r,o]),console.log(a),Object(K.jsx)(H.a,{className:"my-5 todo",children:n?Object(K.jsx)(Z,{}):Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(ee.a,{id:"back-btn",className:"mb-4",children:Object(K.jsx)(R.b,{to:"/user/".concat(o),children:"\u2190 Go Back "})}),Object(K.jsx)(J.a,{children:a.length?a.map((function(e){return Object(K.jsx)(M.a,{md:3,className:"my-4 d-flex align-items-stretch justify-content-center",children:Object(K.jsx)(W.a,{className:"card",children:Object(K.jsxs)(W.a.Body,{className:"d-flex flex-column justify-content-center align-items-center  text-center",children:[Object(K.jsx)(W.a.Title,{className:"todo-text title",children:e.title}),Object(K.jsx)(W.a.Text,{className:"status",id:"todo-status",children:e.status}),Object(K.jsx)(W.a.Text,{className:"todo-text date",children:e.due_on.slice(0,10)})]})})},e.id)})):Object(K.jsx)(M.a,{className:"my-4 d-flex align-items-stretch justify-content-center",children:Object(K.jsx)("h4",{children:"Oops! No Todos for this user"})})})]})})})),ae=c(38),ne=c(75),re=c(171),oe=c(49),ie=(c(146),Object(o.b)((function(e){return{posts:e.postReducer}}),{createPost:function(e,t){return function(){var c=Object(G.a)(U.a.mark((function c(s){var a;return U.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,I.a.post("https://gorest.co.in/public/v1/users/".concat(e,"/posts?access-token=")+F,t,{Authorization:"Bearer ".concat(F)});case 3:a=c.sent,s({type:f,payload:a.data}),console.log(a.data),c.next=12;break;case 8:c.prev=8,c.t0=c.catch(0),console.error(c.t0),s({type:m,payload:c.t0.message});case 12:case"end":return c.stop()}}),c,null,[[0,8]])})));return function(e){return c.apply(this,arguments)}}()}})((function(e){var t=e.match,c=e.history,s=e.createPost,n=e.posts.posts,r=t.params.id,o=a.a.useState({title:"",body:""}),i=Object(ne.a)(o,2),l=i[0],u=i[1];console.log(n);var d=function(){oe.b.success("Post has been created successfully !")},b=function(e){var t=e.target,c=t.name,s=t.value;u(Object(j.a)(Object(j.a)({},l),{},Object(ae.a)({},c,s)))};return Object(K.jsxs)(H.a,{className:"my-5",children:[Object(K.jsx)(oe.a,{}),Object(K.jsx)(ee.a,{id:"back-btn",className:"mb-4",children:Object(K.jsx)(R.b,{to:"/user/".concat(r),children:"\u2190 Go Back"})}),Object(K.jsx)(J.a,{children:Object(K.jsxs)(M.a,{md:6,children:[Object(K.jsx)("h3",{children:"Create New Post"}),Object(K.jsxs)(re.a,{className:"form my-4",onSubmit:function(e){e.preventDefault(),s(r,l),u({title:"",body:""}),d(),setTimeout((function(){c.push("/user/".concat(r))}),6e3)},children:[Object(K.jsxs)(re.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(K.jsx)(re.a.Label,{children:"Title"}),Object(K.jsx)(re.a.Control,{as:"textarea",rows:2,name:"title",value:l.title,onChange:b})]}),Object(K.jsxs)(re.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(K.jsx)(re.a.Label,{children:"Body"}),Object(K.jsx)(re.a.Control,{as:"textarea",rows:6,name:"body",value:l.body,onChange:b})]}),Object(K.jsx)(ee.a,{variant:"dark",type:"submit",children:"Submit"})]})]})})]})}))),le=function(e){Object(C.a)(c,e);var t=Object(P.a)(c);function c(){return Object(w.a)(this,c),t.apply(this,arguments)}return Object(B.a)(c,[{key:"render",value:function(){return Object(K.jsxs)(R.a,{children:[Object(K.jsx)(ce,{}),Object(K.jsxs)(S.c,{children:[Object(K.jsx)(S.a,{exact:!0,path:"/concertcare-task",component:$}),Object(K.jsx)(S.a,{exact:!0,path:"/user/:id",component:te}),Object(K.jsx)(S.a,{exact:!0,path:"/user/:id/todos",component:se}),Object(K.jsx)(S.a,{exact:!0,path:"/user/:id/create",component:ie})]})]})}}]),c}(s.Component);r.a.render(Object(K.jsx)(o.a,{store:_,children:Object(K.jsx)(le,{})}),document.getElementById("root"))}},[[148,1,2]]]);
//# sourceMappingURL=main.b8894f2d.chunk.js.map